<!DOCTYPE html>
<html>

<head>
	<title>Login </title>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="main.css">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
	</script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
	<div class="container">
		<div class="row m-5 no-gutters shadow-lg">
			<div class="col-md-6 d-none d-md-block">
				<img src="https://images.unsplash.com/photo-1566888596782-c7f41cc184c5?ixlib=rb-1.2.1&auto=format&fit=crop&w=2134&q=80"
					class="img-fluid" style="min-height:100%;" />
			</div>
			<div class="col-md-6 bg-white p-5">
				<h3 class="pb-3">Your Like - Login form</h3>
				<div class="form-style">
					<form>
						<div class="form-group pb-3">
							<input type="email" placeholder="Email" class="form-control" id="exampleInputEmail1"
								aria-describedby="emailHelp">
						</div>
						<div class="form-group pb-3">
							<input type="password" placeholder="Password" class="form-control"
								id="exampleInputPassword1">
						</div>
						<div class="d-flex align-items-center justify-content-between">
							<div class="d-flex align-items-center"><input name="" type="checkbox" value="" /> <span
									class="pl-2 font-weight-bold">Remember Me</span></div>
							<div><a href="#">Forget Password?</a></div>
						</div>
						<div class="pb-2">
							<button type="submit" class="btn btn-dark w-100 font-weight-bold mt-2">Submit</button>
						</div>
					</form>
					<div class="sideline">OR</div>

					<div class="fb-login-button" style="width: 100%" data-size="large" data-button-type="login_with"
						data-layout="default" data-auto-logout-link="false" data-use-continue-as="false"
						data-width="100%" data-scope="public_profile,email" data-onlogin="checkLoginState()"></div>

					<div class="pt-4 text-center">
						Get Members Benefit. <a href="#">Sign Up</a>
					</div>
				</div>
			</div>
		</div>
	</div>


	<div id="fb-root"></div>
	<script>
		function statusChangeCallback(response) { // Called with the results from FB.getLoginStatus().
			console.log('statusChangeCallback');
			console.log(response); // The current login status of the person.
			if (response.status === 'connected') { // Logged into your webpage and Facebook.
				testAPI();
			} else { // Not logged into your webpage or we are unable to tell.
				// document.getElementById('status').innerHTML = 'Please log ' +
				// 	'into this webpage.';
			}
		}


		function checkLoginState() { // Called when a person is finished with the Login Button.
			FB.getLoginStatus(function (response) { // See the onlogin handler
				statusChangeCallback(response);
				localStorage.setItem('res', JSON.parse(response));
			});
		}




		window.fbAsyncInit = function () {
			FB.init({
				appId: '819999065506900',
				cookie: true, // Enable cookies to allow the server to access the session.
				xfbml: true, // Parse social plugins on this webpage.
				version: 'v9.0' // Use this Graph API version for this call.
			});


			FB.getLoginStatus(function (response) { // Called after the JS SDK has been initialized.
				statusChangeCallback(response); // Returns the login status.
			});
		};

		function testAPI() { // Testing Graph API after login.  See statusChangeCallback() for when this call is made.
			console.log('Welcome!  Fetching your information.... ');
			FB.api('/me', function (response) {
				console.log('Successful login for: ' + response.name);
				console.log('Successful login id: ' + response.id);
				// document.getElementById('status').innerHTML =
				// 	'Thanks for logging in, ' + response.name + '!';
				localStorage.setItem('user', response.name);
				localStorage.setItem('userId', response.id);
				location.replace("main.html");

			});
		}
	</script>
	<!-- The JS SDK Login Button -->
	<div id="status">
	</div>
	<!-- Load the JS SDK asynchronously -->
	<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/all.js"></script>
	<div id="root"></div>
</body>

</html>